<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Deplatformr - Open Images</title>

<link rel="shortcut icon" href="{{ url_for('static', filename='assets/favicon.ico') }}">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='fontawesome/css/all.min.css') }}">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet"> 

</head>
<body>

<div class="navbar navbar-expand fixed-top" id="mainNav">
    <div class="navbar-brand">
    <a href="{{ url_for('index') }}"><img src="{{ url_for('static', filename='assets/deplatformr-open-images.png') }}"/></a>
    </div>

    <h2><i style="padding: 10px 0 0 20px;" class="fa fa-question-circle fa-lg"></i></h2>
</div>


<div id="wrapper">
    <div id="sidebar-wrapper">
        <aside id="sidebar">
            <ul id="sidemenu" class="sidebar-nav" style="margin-top: 80px;">
                <li>
                    <a href="#instructions">
                        <span class="sidebar-icon"><i class="fa fa-book fa-lg"></i></span>
                        <span class="sidebar-title">Instructions</span>
                    </a>
                </li>
                <li>
                    <a href="#about">
                        <span class="sidebar-icon"><i class="fa fa-info-circle fa-lg"></i></span>
                        <span class="sidebar-title">About</span>
                    </a>
                </li>
                <li>
                    <a href="https://github.com/deplatformr/open-images">
                        <span class="sidebar-icon"><i class="fab fa-github fa-lg"></i></span>
                        <span class="sidebar-title">Code</span>
                    </a>
                </li>
                <li>
                    <a href="{{ url_for('index') }}">
                        <span class="sidebar-icon"><i class="fa  fa-play-circle fa-lg"></i></span>
                        <span class="sidebar-title">Try it</span>
                    </a>
                </li>
            </ul>
        </aside>            
    </div>
    <main id="page-content-wrapper" role="main">
        <div class="container-fluid" id="instructions" style="margin: 40px;">
            <h1>Instructions</h1>
            <p>1. This site provides a map you can use to explore geo-tagged photographs from the Google Open Images dataset. There is a map for every label in the dataset. The default one shows the location of images with the label "swimming".</p>
            <p><img src="{{ url_for('static', filename='instructions/open-images-instructions-1.png') }}" class="instructions img-fluid"/><p>
            <p>2. Click on one of the map pins to see a preview of the photograph as well as the city and country where it was taken.</p>
            <p><img src="{{ url_for('static', filename='instructions/open-images-instructions-2.png') }}" class="instructions"/><p>
            <p>3. You can click on the "zoom on map" option for a fun, fly-over effect that will take you to a close-up sattellite view of the location.</p>
            <p><img src="{{ url_for('static', filename='instructions/open-images-instructions-3.png') }}" class="instructions"/><p>
            <p>4. If you click the "view metadata" button or the pin on the close-up view, you will see the image metadata below the map.</p>
            <p>This is information we have extracted from the photograph's embedded metadata. We used the latitude and longitude values to do a reverse geocode lookup to find the city and country. We have also provided useful information such as the creator name, image creation date, width and height, file size, and resolution, along with any title or description information that the original creator might have entered into the embedded image metadata. All this additional information will be useful for comparing and training new machine learning models on this dataset. That is the purpose of this application which is explained further in the <a href="#about">about</a> section below. The about section also explains why and how this data is backed up on the <a href="https://filecoin.io">Filecoin</a> decentralized storage network.</p>
            <p><img src="{{ url_for('static', filename='instructions/open-images-instructions-4.png') }}" class="instructions"/><p>
            <p>5. The "machine learning annotations" section below the image metadata lists the label, box, relationship and segmentation information that was generated by machine learning algorithms on these images as part of training, validation and testing models. A future version of this application will make further use of this data to add more context to the geolocation metadata.
            <p><img src="{{ url_for('static', filename='instructions/open-images-instructions-5.png') }}" class="instructions"/><p>
            <p>6. For now, in this initial beta release of the application, it is kind of fun just to explore the various images and their specific locations around the world. You can use the autocomplete search bar at the top of the page to find specific machine learning labels to search on.
            <p><img src="{{ url_for('static', filename='instructions/open-images-instructions-6.png') }}" class="instructions"/><p>    
            <p>7. Each hit will generate a new label map. Do you know which pyramid in France is linked to <a href="{{ url_for ('image', id='14a2df364ad5f854') }}">here</a>?
            <p><img src="{{ url_for('static', filename='instructions/open-images-instructions-7.png') }}" class="instructions"/><p> 
        </div> 

        <div class="container-fluid" id="about" style="margin: 40px; padding-top: 100px;">
            <h1>About</h1>
            <p>1. This application was created for the Filecoin <a href="https://slingshot.filecoin.io">Slingshot</a> competition.
            <p><img src="{{ url_for('static', filename='instructions/slingshot.png') }}" class="instructions"/><p> 
            <p>2. <a href="https://filecoin.io">Filecoin</a> is a decentralized storage network with a token blockchain for funding storage deals and incentivizing long-term pinning by storage providers. It uses cryptographic hashes for content addressing and to guarantee the authenticity of stored files.
            <p><img src="{{ url_for('static', filename='instructions/filecoin.png') }}" class="instructions"/><p> 
            <p>3. The Slingshot competition challenged development teams to back up valuable datasets to Filecoin within a short timeframe and to create applications like this one to demonstrate use of that data. The <a href="https://deplatformr.com">Deplatformr</a> team chose the Google Open Images dataset because we will enable our users to generate their own machine learning models against their personal content collections. Open Images is a rich resource for training these image classification models.</p>
            <p>4. This current iteration of the <strong>Deplatformr Open Images</strong> project is an experimental research and development initiative that is intended to glean new insights into the combination of extracted photograph metadata with machine learning annotations. The working hypothesis is that new information will emerge about an image and its geolocation as a result of these overlays.</p>
            <p>5. Out of the 9,178,275 photographs in the Open Images dataset, we only managed to upload a total of 53,122 (0.6%) to Filecoin before the Slingshot Phase 1 deadline. 1,840 or 3.5% of these 53,122 images had embedded geodata. These are the ones currently displayed on this site. Each are linked to 18,096 annotations, representating 6,058 unique labels that can be searched on in the current maps. Our goal for Slingshot Phase 2 is to upload all 9 million Open Image photographs and display all the geocoded images from the full set in an enhanced version of this application.</p>
            <p>6. Currently the <a href="https://storage.googleapis.com/openimages/web/download.html">Open Images dataset</a> consists of photographs that are actually hosted on Flickr servers along with a mixture of CSV files describing the dataset and its annotations, which are hosted on Google Cloud. Our Deplatformr team includes professional digital archivists who are concerned about the long-term digital preservation of the Open Images dataset. This is the largest public resource of this kind in the world. However, at least 7% of the photographs on Flickr are no longer available for download. For example, we have managed to download 73,094 images so far but, in comparison, 6,042 requests returned a 400 or 404 response. A Google representative from the project has told us that they expected this number to be even higher and that it will grow over the years as they have no control over users taking down their photographs, despite their Creative Commons licensing. Furthermore, the photographs are not inextricably linked to their content and context metadata, an important consideration for maintaining long-term accessibility.</p>
            <p>7. Therefore, the <strong>Deplatformr Open Images</strong> project created a digital preservation pipeline to archive the Open Images dataset using industry best practices in combination with Filecoin storage. We verified the MD5 checksum of every image downloaded from the Flickr servers. We retrieved the PNG overlay files for segmentations that are associated with many of the images. We combined the annotations metadata from all the disparate CSV sources into one manifest per image. We then extracted EXIF metadata from the JPG files and captured all this metadata in a <a href="https://json-ld.org/">JSON-LD</a> schema format that we developed from the schema.org <a href="https://schema.org/ImageObject">ImageObject</a> definition. We store this <a href="{{ url_for('static', filename='instructions/sample-0c1653734a748a25.jsonld') }}"> metadata file</a> next to each source image inside a Library of Congress standard <a href="https://tools.ietf.org/html/rfc8493">Bagit</a> container for long-term archival storage. These containers include SHA512 checksums for all files. We bundle the images and metadata files into 800 MiB tar packages which become 1 GiB files exactly on the Filecoin network due to the "next power of 2" factor that is part of the Filecoin hashing and chunking algorithm. The Deplatformr Open Images project uses a Textile <a href="https://docs.textile.io/powergate/">Powergate</a> server to upload these tar packages to the Filecoin network using the <a href="https://github.com/pygate/pygate-gRPC">Pygate</a> gRCP interface that our team developed for the Filecoin <a href="https://hackfs.com">HackFS</a> event. In addition to Pygate, our entire pipeline is written in Python. All the scripts, along with the source code for this application are available as Free Open Source Softare under a MIT license on our <a href="https://github.com/deplatformr/open-images">Github page</a>.</p>
            <p><img src="{{ url_for('static', filename='instructions/github.png') }}" class="instructions"/><p>
            <p>8. Each of the tar packages that we have uploaded to Filecoin can be downloaded from the photograph's metadata view in this application. You also have direct dowload access to copies of the Open Image master file and the json-ld manifest file for each image from the metadata section. The Filecoin Content Identifier or CID is provided so that you can download a copy from the Filecoin network using the CID. You can also follow the link in the UI to see storage deal information from the Filecoin blockchain about the CID.</p>
            <p><img src="{{ url_for('static', filename='instructions/open-images-instructions-4.png') }}" class="instructions"/><p>










        </div> 



    </main>








</body>
</html>
